{"ast":null,"code":"import _classCallCheck from\"/home/ingrid/Documentos/testFullStack/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ingrid/Documentos/testFullStack/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ingrid/Documentos/testFullStack/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ingrid/Documentos/testFullStack/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";// Importando o React\nimport React,{Component}from\"react\";// Importando os components necessários da lib react-materialize\nimport{Row,Table,Icon}from'react-materialize';import axios from'axios';var API_URL='https://api-fullstackgo.herokuapp.com/api';var TblFix=/*#__PURE__*/function(_Component){_inherits(TblFix,_Component);var _super=_createSuper(TblFix);function TblFix(){var _this;_classCallCheck(this,TblFix);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={investments:[]};return _this;}_createClass(TblFix,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var url=\"\".concat(API_URL,\"/details/\");axios.get(url).then(function(response){return response.data;}).then(function(data){_this2.setState({investments:data});console.log(_this2.state.investments);});}},{key:\"deleteRow\",value:function deleteRow(_id,e){axios.delete(\"https://api-fullstackgo.herokuapp.com/api/interest/\".concat(_id)).then(function(res){console.log(res);console.log(res.data);window.location.reload();});}},{key:\"render\",value:function render(){var _this3=this;var rendFix=\"Renda_Fixa\";var filterFix=this.state.investments.filter(function(type){return type.type===rendFix;});var rFixa=filterFix.reduce(function(sum,value){return sum+value.value;},0);this.tot={rFixa:rFixa};var rendim=this.state.investments.filter(function(type){return type.type===rendFix;});return/*#__PURE__*/React.createElement(Row,null,this.tot.rFixa===0&&/*#__PURE__*/React.createElement(\"div\",{className:\"addNull\"},/*#__PURE__*/React.createElement(\"p\",{className:\"center-align\"},/*#__PURE__*/React.createElement(Icon,{medium:true},\"add_circle_outline\")),/*#__PURE__*/React.createElement(\"p\",{className:\"center-align\"},\"ADICIONE UM INVESTIMENTO DO TIPO RENDA FIXA!\")),this.tot.rFixa>0&&/*#__PURE__*/React.createElement(Table,{className:\"highlight centered\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Data\"),/*#__PURE__*/React.createElement(\"th\",null,\"Valor\"),/*#__PURE__*/React.createElement(\"th\",null,\"Excluir\"))),/*#__PURE__*/React.createElement(\"tbody\",null,rendim.map(function(investment){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"span\",null,investment.date)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"span\",null,\"R$ \",investment.value.toLocaleString('pt-BR',{minimumFractionDigits:2}))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return _this3.deleteRow(investment._id,e);}},/*#__PURE__*/React.createElement(Icon,{className:\"waves-effect waves-light\"},\"delete_forever\"))));}))));}}]);return TblFix;}(Component);export default TblFix;","map":{"version":3,"sources":["/home/ingrid/Documentos/testFullStack/frontEnd/src/components/tableFix.js"],"names":["React","Component","Row","Table","Icon","axios","API_URL","TblFix","state","investments","url","get","then","response","data","setState","console","log","_id","e","delete","res","window","location","reload","rendFix","filterFix","filter","type","rFixa","reduce","sum","value","tot","rendim","map","investment","date","toLocaleString","minimumFractionDigits","deleteRow"],"mappings":"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","sourcesContent":["// Importando o React\nimport React, {Component} from \"react\";\n// Importando os components necessários da lib react-materialize\nimport { Row, Table, Icon} from 'react-materialize';\nimport axios from 'axios'\n\nconst API_URL = 'https://api-fullstackgo.herokuapp.com/api';\n\nclass TblFix  extends Component {\n     state = {\n      investments: []\n    }\n    componentDidMount() {\n      const url = `${API_URL}/details/`;\n      axios.get(url).then(response => response.data)\n      .then((data) => {\n        this.setState({ investments: data })\n        console.log(this.state.investments)\n      });\n    }\n    deleteRow(_id, e){\n      axios.delete(`https://api-fullstackgo.herokuapp.com/api/interest/${_id}`)\n        .then(res => {\n          console.log(res);\n          console.log(res.data);\n          window.location.reload()\n        });\n    }\n  \n  render () {\n\n    const rendFix = \"Renda_Fixa\";\n    let filterFix = this.state.investments.filter((type) => {\n      return type.type === rendFix;\n    });\n    let rFixa = filterFix.reduce((sum, value) => {\n      return sum + value.value;\n    }, 0);\n\n    this.tot = {rFixa} \n\n    let rendim = this.state.investments.filter((type) => {\n      return type.type === rendFix;\n    });\n    return (\n        <Row>\n          {this.tot.rFixa === 0 && \n            <div className=\"addNull\">\n            <p className=\"center-align\"><Icon medium>add_circle_outline</Icon></p>\n            <p className=\"center-align\">ADICIONE UM INVESTIMENTO DO TIPO RENDA FIXA!</p>\n            </div>\n          }\n          {this.tot.rFixa > 0 && \n            <Table className=\"highlight centered\">\n                  <thead>\n                    <tr>\n                        <th>Data</th>\n                        <th>Valor</th>\n                        <th>Excluir</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {rendim.map((investment) => (\n                      <tr>\n                        <td><span>{investment.date}</span></td>\n                        <td><span>R$ {investment.value.toLocaleString('pt-BR', { minimumFractionDigits: 2})}</span></td>\n                        <td><button onClick={(e) => this.deleteRow(investment._id, e)} ><Icon className=\"waves-effect waves-light\">delete_forever</Icon></button></td>\n                      </tr>\n                    ))}\n                  </tbody>\n              </Table>\n          }\n        </Row>\n        \n    );\n  }\n\n}\n\nexport default TblFix;"]},"metadata":{},"sourceType":"module"}