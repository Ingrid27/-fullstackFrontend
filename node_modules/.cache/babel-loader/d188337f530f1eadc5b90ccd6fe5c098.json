{"ast":null,"code":"import _classCallCheck from\"/home/ingrid/Documentos/testFullStack/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ingrid/Documentos/testFullStack/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ingrid/Documentos/testFullStack/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ingrid/Documentos/testFullStack/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";// Importando o React\nimport React,{Component}from\"react\";// Importando os components necessários da lib react-materialize\nimport{Row,Icon}from'react-materialize';import axios from'axios';import{Doughnut}from'react-chartjs-2';var API_URL='https://api-fullstackgo.herokuapp.com/api';var Contact=/*#__PURE__*/function(_Component){_inherits(Contact,_Component);var _super=_createSuper(Contact);function Contact(){var _this;_classCallCheck(this,Contact);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={investments:[]};return _this;}_createClass(Contact,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var url=\"\".concat(API_URL,\"/details/\");axios.get(url).then(function(response){return response.data;}).then(function(data){_this2.setState({investments:data});console.log(_this2.state.investments);});}},{key:\"render\",value:function render(){var rendFix=\"Renda_Fixa\";var rendVari=\"Renda_Variavel\";var filterFix=this.state.investments.filter(function(type){return type.type===rendFix;});var filterVari=this.state.investments.filter(function(type){return type.type===rendVari;});var rFixa=filterFix.reduce(function(sum,value){return sum+value.value;},0);var rVari=filterVari.reduce(function(sum,value){return sum+value.value;},0);var tot=rFixa+rVari;this.t={tot:tot};var perFix=100*rFixa/tot;var perVari=100*rVari/tot;var graph={labels:[perFix.toFixed(0)+'% RENDA FIXA',perVari.toFixed(0)+'% RENDA VARIÁVEL'],datasets:[{label:'Rainfall',backgroundColor:['#ff595e','#8ac926'],data:[rFixa,rVari]}]};return/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{class:\"col m2 l2\"}),this.t.tot===0&&/*#__PURE__*/React.createElement(\"div\",{className:\"addNull col s12 m8 l8\"},/*#__PURE__*/React.createElement(\"p\",{className:\"center-align\"},/*#__PURE__*/React.createElement(Icon,{medium:true},\"add_circle_outline\")),/*#__PURE__*/React.createElement(\"p\",{className:\"center-align\"},\"ADICIONE UM INVESTIMENTO PARA COME\\xC7AR!\")),this.t.tot>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 m8 l8\"},/*#__PURE__*/React.createElement(Doughnut,{data:graph,options:{legend:{position:'bottom',labels:{fontColor:'#000',FontFamily:'Oswald',fontSize:11,boxWidth:20}},cutoutPercentage:75}})),/*#__PURE__*/React.createElement(\"div\",{class:\"col m2 l2\"}));}}]);return Contact;}(Component);;export default Contact;","map":{"version":3,"sources":["/home/ingrid/Documentos/testFullStack/frontEnd/src/components/graph.js"],"names":["React","Component","Row","Icon","axios","Doughnut","API_URL","Contact","state","investments","url","get","then","response","data","setState","console","log","rendFix","rendVari","filterFix","filter","type","filterVari","rFixa","reduce","sum","value","rVari","tot","t","perFix","perVari","graph","labels","toFixed","datasets","label","backgroundColor","legend","position","fontColor","FontFamily","fontSize","boxWidth","cutoutPercentage"],"mappings":"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","sourcesContent":["// Importando o React\nimport React, {Component} from \"react\";\n// Importando os components necessários da lib react-materialize\nimport { Row, Icon} from 'react-materialize'\nimport axios from 'axios';\n\nimport {Doughnut} from 'react-chartjs-2'\n\nconst API_URL = 'https://api-fullstackgo.herokuapp.com/api';\n\nclass Contact  extends Component {\n  state = {\n    investments: []\n  }\n  componentDidMount() {\n    const url = `${API_URL}/details/`;\n    axios.get(url).then(response => response.data)\n    .then((data) => {\n      this.setState({ investments: data })\n      console.log(this.state.investments)\n    });\n  }\n\n  render () {\n\n    const rendFix = \"Renda_Fixa\";\n    const rendVari = \"Renda_Variavel\";\n    let filterFix = this.state.investments.filter((type) => {\n      return type.type === rendFix;\n    });\n    let filterVari = this.state.investments.filter((type) => {\n      return type.type === rendVari;\n    });\n    let rFixa = filterFix.reduce((sum, value) => {\n      return sum + value.value;\n    }, 0);\n    let rVari = filterVari.reduce((sum, value) => {\n      return sum + value.value;\n    }, 0);\n\n    let tot = rFixa + rVari\n\n    this.t ={tot} \n\n    let perFix = (100*rFixa)/tot\n    let perVari = (100*rVari)/tot\n\n    const graph = {\n      labels: [perFix.toFixed(0)+'% RENDA FIXA', perVari.toFixed(0)+'% RENDA VARIÁVEL'],\n      datasets: [\n        {\n          label: 'Rainfall',\n          backgroundColor: [\n            '#ff595e',\n            '#8ac926'\n          ], \n          data: [rFixa, rVari]\n        }\n      ]\n    }   \n  \n    return (\n      <Row>\n        <div class=\"col m2 l2\"></div>\n        {this.t.tot === 0 && \n         <div className=\"addNull col s12 m8 l8\">\n          <p className=\"center-align\"><Icon medium>add_circle_outline</Icon></p>\n          <p className=\"center-align\">ADICIONE UM INVESTIMENTO PARA COMEÇAR!</p>\n         </div>\n        }\n        {this.t.tot > 0 && \n          \n          <div className=\"col s12 m8 l8\">\n              <Doughnut\n                data={graph}\n                options={{\n                  legend:{\n                    position:'bottom',\n                    labels:{\n                      fontColor: '#000',\n                      FontFamily: 'Oswald',\n                      fontSize: 11,\n                      boxWidth: 20\n                    }\n                  },\n                  cutoutPercentage:75,\n                }}\n                \n            />\n          </div>\n        }\n        <div class=\"col m2 l2\"></div>\n      </Row>\n    )\n  }\n};\n\nexport default Contact;"]},"metadata":{},"sourceType":"module"}